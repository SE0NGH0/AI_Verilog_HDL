# 💡 FSM 기반 Verilog 자판기 시스템

Verilog HDL로 구현한 자판기 시스템입니다. 버튼 입력을 통해 잔액을 관리하고, 커피 구매 시 FND와 LED를 이용한 애니메이션 효과를 출력합니다. FSM, 디바운서, 원샷 회로, FND 컨트롤, 애니메이션 로직까지 포함된 완성도 높은 하드웨어 프로젝트입니다.

---

## 🧩 주요 기능

- 🎛️ **입력 버튼**
  - `btnL`: 100원 투입
  - `btnC`: 500원 투입
  - `btnR`: 커피 구매 (300원)
  - `btnD`: 잔액 반환
  - `btnU`: 시스템 초기화

- 💰 **잔액 FSM**
  - 입력 금액에 따라 잔액 변경
  - 커피 구매 시 300원 차감
  - 반환 시 잔액 0으로 초기화

- 💡 **FND 표시 (7-Segment)**
  - 기본 모드: 현재 잔액 표시 (최대 9999원)
  - 커피 구매 시: 0.5초 간격으로 순차 점등되는 원형(circle) 애니메이션 출력  
    순서: `AN3 A → AN2 A → AN1 A → AN0 A → AN0 B → AN0 C → AN0 D → AN1 D → AN2 D → AN3 D → AN3 E → AN3 F`

- ✨ **LED 애니메이션**
  - 커피 구매 버튼(`btnR`) 입력 시, LED 7개가 시계 방향으로 순차 점등 후 꺼지는 효과

- 🧼 **안정적인 입력 처리**
  - 디바운싱(`button_debouncer`) + 원샷 펄스(`button_onepulse`)로 입력 신뢰성 향상

---

## 🛠️ 개발 환경

- **FPGA 보드**: Xilinx Basys3
- **Toolchain**: Vivado 2021.1
- **Clock**: 100MHz

---

## 🚀 실행 방법

1. Vivado 프로젝트에 모든 `.v` 파일 추가
2. `vending_machine_top`을 top module로 지정
3. 타이밍 제약 설정 (100MHz 기준)
4. FPGA 보드에 업로드하여 버튼 및 FND/LED 연결 확인
5. 테스트: 버튼 입력에 따른 FND 및 LED 출력 확인

---

## 📸 시연 이미지/영상

🎥 [👉 결과 영상 보러가기](https://youtu.be/ssTYbH39unI)

---

## 📝 개선 및 확장 아이디어

- 최대 잔액 상한선 제한 기능
- 애니메이션 중 버튼 입력 무시 기능
- 음성 출력(TTS) 또는 사운드 모듈 연동
- LCD나 OLED를 이용한 텍스트 출력 확장

---
